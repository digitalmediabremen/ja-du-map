<html class="page-map">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="../js/p5.min.js"></script>
  <script src="../js/moment.min.js"></script>
  <script src="map.js"></script>
  <script src="../js/dash.all.min.js"></script>
  <link href="../css/style.css" rel="stylesheet"/>
  <link href="../fonts/stylesheet.css" rel="stylesheet">
  <title>Radiophonic Places: Bremen</title>
  <script>
      let map_p5 = new p5(map_sketch, 'sketch');

      function initDashAudioPlayer(elem, url) {
          var audio,
              player;

          player = dashjs.MediaPlayer().create();
          //player.setAutoPlay(false);
          player.initialize(elem, url, false);
          player.setVolume(0);

          return player;
      }

      function init() {

          window.players = {
            8022: initDashAudioPlayer(document.querySelector("#audio-c01"), "audio/8022/8022_dash.mpd"), // 8022
            8010: initDashAudioPlayer(document.querySelector("#audio-c02"), "audio/8010/8010_dash.mpd"), // 8010
            8024: initDashAudioPlayer(document.querySelector("#audio-c03"), "audio/8024/8024_dash.mpd"), // 8024
            8026: initDashAudioPlayer(document.querySelector("#audio-c04"), "audio/8026/8026_dash.mpd"), // 8026
            8015: initDashAudioPlayer(document.querySelector("#audio-c05"), "audio/8015/8015_dash.mpd"), // 8015
            8018: initDashAudioPlayer(document.querySelector("#audio-c06"), "audio/8018/8018_dash.mpd"), // 8018
            8019: initDashAudioPlayer(document.querySelector("#audio-c07"), "audio/8019/8019_dash.mpd"), // 8019
            8014: initDashAudioPlayer(document.querySelector("#audio-c08"), "audio/8014/8014_dash.mpd"), // 8014
          }
      }

      function startToListen(e){
          // prevent start before sketch is ready
          if(!map_p5._setupDone){
            return false;
          }
          document.querySelector("#intro").style.display = "none";
          document.querySelector(".bottom-ui").style.display = "block";
          map_p5.frameRate(30); // start

          for(var id in window.players) {
            if (!window.players[id]) {continue;}
            window.players[id].play();
          }
      }
  </script>
</head>
<body>

  <div class="popup container" id="intro">
    <h1>RADIOPHONIC PLACES <i>Bremen</i></h1>
    <p>is a sound sculpture consisting of audio livestreams from several locations in a city. Transmitted through a network of wired and wireless infrastructures, protocols and apparatuses, and mixed algorithmically, the city sounds eventually reach your ears.</p>
    <p>Originally, the gathered sounds were transmitted as collected in real-time and broadcasted via FM Radio (92,5 FM) and radioangrezi.de. On this website we present recordings from Bremen of May 13th 2019 5:00 – 15:00.</p>
    <p>Radiophonic Places is a production by <a href="http://jelkoarnds.com/">Jelko Arnds</a> and <a href="http://david.unland.eu/">David Unland</a>.</p>

    <p class="instructions"><i>Click onto the map to navigate through the sound scape. The use of headphones is recommended.</i></p> 
    <p class="too-small"><i>To access the interactive sonic documentation please use a device with a larger screen.</i></p><br/>

    <a class="button btn-listen" href="javascript:startToListen()">listen</a><a class="button" href="../description">read</a>

  </div>

  <div class="bottom-ui">
    <a class="button" href="../description">read</a>
    <div class="spacetime"><p>Bremen, <span id="time">05:00:00</span></p></div>
  </div>

  <div id="sketch">

  </div>

  <div>
    <audio id="audio-c01"></audio>
    <audio id="audio-c02"></audio>
    <audio id="audio-c03"></audio>
    <audio id="audio-c04"></audio>
    <audio id="audio-c05"></audio>
    <audio id="audio-c06"></audio>
    <audio id="audio-c07"></audio>
    <audio id="audio-c08"></audio>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
      init();
    });
  </script>

</body>
</html>
